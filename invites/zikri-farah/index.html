<!doctype html><html lang="id"><head><meta charset="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Undangan Pernikahan – Farah & Zikri</title>
  <meta name="description" content="Undangan pernikahan – Farah & Zikri"/>
  <link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="preload" as="image" href="assets/hero.jpg">
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
  <script>tailwind.config={theme:{extend:{fontFamily:{sans:['Inter','ui-sans-serif','system-ui'],serif:['Playfair Display','serif']},colors:{taupe:{DEFAULT:'#cdbbab',soft:'#dacbbb',ink:'#2e2b28',accent:'#b49a83',accent2:'#a08871',border:'#e7dfd7'}},boxShadow:{soft:'0 10px 30px rgba(0,0,0,.06)',card:'0 12px 40px rgba(0,0,0,.06)'}}}};</script>
  <style>
    .lock{overflow:hidden}
    .bg-hero{background:url('assets/hero.jpg') center/cover no-repeat}
    .reveal{opacity:0;transform:translateY(16px);transition:opacity .7s ease,transform .7s ease}
    .reveal.is-visible{opacity:1;transform:none}
    .cdRing .track{fill:none;stroke:#e7dfd7;stroke-width:8}
    .cdRing .progress{fill:none;stroke:#b49a83;stroke-width:8;stroke-linecap:round;stroke-dasharray:0 999;stroke-dashoffset:0;transition:stroke-dashoffset .5s linear}
    .cdTile{position:relative;border:1px solid #e7dfd7;border-radius:18px;background:linear-gradient(180deg,#faf7f3, #fff);box-shadow:0 10px 28px rgba(0,0,0,.06)}
    /* Person cards – layout & fallback so it doesn't look broken */
    .personCard{display:grid;grid-template-columns:160px 1fr;gap:16px;align-items:start;border:1px solid #e7dfd7;border-radius:16px;background:#fff;padding:16px;box-shadow:0 8px 24px rgba(0,0,0,.06)}
    @media(min-width:768px){.personCard{grid-template-columns:220px 1fr;padding:20px}}
    .archFrame{border-radius:14px;overflow:hidden;background:#f3efe9}
    .archFrame img{width:100%;aspect-ratio:3/4;object-fit:cover;display:block}
    .personInfo .tagChip{font-size:12px;letter-spacing:.14em;text-transform:uppercase;opacity:.7}
    .personInfo .igBtn{display:inline-flex;align-items:center;gap:6px;font-weight:500;margin-top:8px;border-bottom:1px dashed #b49a83}
    .personName{font-family:'Playfair Display',serif}
      /* Event cards (polish & equal height) */
    #event .grid{align-items:stretch}
    .eventCard{display:flex;flex-direction:column;justify-content:flex-start;gap:6px;height:100%;border:1px solid #e7dfd7;border-radius:28px;background:linear-gradient(180deg,#f7f2ec,#efe7df);box-shadow:0 12px 40px rgba(0,0,0,.08);padding:28px 24px;text-align:center}
    .eventCard .eyebrow{font-size:12px;letter-spacing:.24em;text-transform:uppercase;color:#5b5149}
    #akad_day,#resep_day{font:700 48px/1 'Inter',system-ui;color:#2e2b28;margin-top:2px}
    #akad_mon,#resep_mon{font-weight:600;color:#8a847e;letter-spacing:.12em;text-transform:uppercase;margin-top:2px}
    #akadDate,#resepDate{font-weight:700;color:#2e2b28}
    #venue1,#venue2{color:#6f675f;line-height:1.55}
    .eventCard .cta{margin-top:auto;display:flex;justify-content:center;gap:10px}
    .btn-soft{display:inline-flex;align-items:center;gap:8px;padding:.7rem 1rem;border-radius:12px;background:#b49a83;color:#fff;font-weight:600;box-shadow:0 6px 18px rgba(0,0,0,.12)}
      /* Event cards (polish & equal height) */
    #event .grid{align-items:stretch}
    .eventCard{display:flex;flex-direction:column;justify-content:flex-start;gap:6px;height:100%;border:1px solid #e7dfd7;border-radius:28px;background:linear-gradient(180deg,#f7f2ec,#efe7df);box-shadow:0 12px 40px rgba(0,0,0,.08);padding:28px 24px;text-align:center}
    .eventCard .eyebrow{font-size:12px;letter-spacing:.24em;text-transform:uppercase;color:#5b5149}
    #akad_day,#resep_day{font:700 48px/1 'Inter',system-ui;color:#2e2b28;margin-top:2px}
    #akad_mon,#resep_mon{font-weight:600;color:#8a847e;letter-spacing:.12em;text-transform:uppercase;margin-top:2px}
    #venue1,#venue2{color:#6f675f;line-height:1.55}
    .eventCard .cta{margin-top:auto;display:flex;justify-content:center;gap:10px}
    .btn-soft{display:inline-flex;align-items:center;gap:8px;padding:.7rem 1rem;border-radius:12px;background:#b49a83;color:#fff;font-weight:600;box-shadow:0 6px 18px rgba(0,0,0,.12)}
    /* Fine hierarchy for date/time & venue */
    .eventDate{margin-top:6px;font-weight:700}
    .eventTime{font-weight:700;color:#2e2b28}
    .venue.name{font-weight:600;color:#3b332c}
    .venue.addr,.venue.city{color:#6f675f}
      /* Dramatic but classy music button */
    #musicBtn{position:fixed;bottom:1rem;left:1rem;z-index:70;width:48px;height:48px;border-radius:9999px;color:#fff;background:radial-gradient(120% 120% at 30% 20%, #b49a83 0%, #a08871 100%);border:1px solid rgba(255,255,255,.28);backdrop-filter:blur(6px) saturate(120%);box-shadow:0 10px 28px rgba(0,0,0,.18), inset 0 -10px 18px rgba(255,255,255,.12);transition:transform .2s ease, box-shadow .2s ease, opacity .2s ease}
    #musicBtn:hover{transform:translateY(-2px);box-shadow:0 14px 36px rgba(0,0,0,.22), inset 0 -10px 18px rgba(255,255,255,.12)}
    #musicBtn.is-playing{box-shadow:0 12px 36px rgba(180,154,131,.45), inset 0 -10px 18px rgba(255,255,255,.12)}
    #musicBtn.is-playing::after{content:"";position:absolute;inset:-8px;border-radius:9999px;border:2px solid rgba(180,154,131,.45);animation:musicPulse 1.8s ease-out infinite;pointer-events:none}
    #musicBtn svg{display:block;width:18px;height:18px}
    @keyframes musicPulse{0%{transform:scale(1);opacity:.7}100%{transform:scale(1.6);opacity:0}}
  </style>
</head>
<body class="lock font-sans text-[#2e2b28] bg-taupe">
  <!-- LOADING 5s (Tema Banjar sederhana) -->
  <div id="loadingBanjar" style="position:fixed;inset:0;z-index:60;display:grid;place-items:center;background:#cdbbab">
    <div style="position:relative;width:96px;height:96px;border-radius:9999px;border:2px solid #e7dfd7;background:#fff;box-shadow:0 14px 40px rgba(0,0,0,.2) inset;display:grid;place-items:center">
      <div style="position:absolute;inset:-6px;border-radius:9999px;border:3px solid rgba(180,154,131,.35);animation:pulse 1.6s ease-out infinite"></div>
      <div class="text-sm">Loading…</div>
    </div>
  </div>

  <!-- COVER / OPEN INVITATION (struktur asli) -->
  <div id="cover" role="dialog" aria-label="Sampul undangan" class="fixed inset-0 z-50 bg-black/80">
    <div class="absolute inset-0 bg-hero"></div>
    <div class="absolute inset-0 bg-black/70"></div>
    <div class="relative z-10 w-full max-w-[680px] mx-auto px-6 text-white text-center grid place-items-center min-h-screen">
      <div>
        <span class="inline-block px-3 py-1 border border-white/70 rounded-full text-xs tracking-[.14em] uppercase">The Wedding of</span>
        <div id="cv_couple" class="font-serif text-[clamp(28px,6vw,64px)] mt-3">Zikri & Farah</div>
        <div id="cv_date" class="tracking-[.3em]">11 . 01 . 2030</div>
        <div class="mt-4 grid gap-2 justify-items-center">
          <div class="text-sm opacity-90">Kepada Yth:</div>
          <div class="inline-flex items-center gap-2 px-4 py-2 rounded-full border border-white/35 bg-white/10 backdrop-saturate-125 backdrop-blur-sm shadow-inner">
            <span id="guest" class="font-semibold">Sahabat kami</span>
          </div>
        </div>
        <div class="mt-4 flex flex-wrap justify-center gap-3 reveal" data-delay=".1s">
          <button id="openBtn" type="button" onclick="window.__open && window.__open()" class="inline-flex items-center justify-center px-4 py-3 rounded-xl font-semibold bg-taupe-accent text-white hover:bg-taupe-accent2 shadow-soft">Open Invitation</button>
        </div>
        <div class="mt-3 opacity-90 text-sm">*Mohon maaf bila ada kesalahan penulisan nama/gelar</div>
      </div>
    </div>
  </div>

  <!-- HERO -->
  <header class="relative grid place-items-center min-h-[64vh] text-white text-center">
    <div class="absolute inset-0 bg-hero"><div class="absolute inset-0 bg-gradient-to-b from-black/55 via-black/25 to-[rgba(205,187,171,.9)]"></div></div>
    <div class="relative z-10 w-full max-w-[980px] mx-auto px-4">
      <span class="inline-block px-3 py-1 border border-white/60 rounded-full text-xs tracking-[.14em] uppercase reveal" data-delay=".05s">The Wedding of</span>
      <h1 id="couple" class="font-serif text-[clamp(28px,6vw,64px)] mt-3 reveal">Zikri & Farah</h1>
      <div id="dateplace" class="mt-2 opacity-90 reveal">Jumat, 11 Januari 2030 · Jakarta</div>
      <div class="mt-4 flex flex-wrap justify-center gap-3">
        <a href="#event" class="inline-flex items-center gap-2 px-4 py-3 rounded-xl font-medium bg-taupe-accent text-white hover:bg-taupe-accent2 shadow-soft"><img alt="" aria-hidden="true" src="https://unpkg.com/heroicons@2.1.1/20/solid/calendar-days.svg" class="w-5 h-5 invert"/><span>Wedding Event</span></a>
        <a id="btnMaps" target="_blank" rel="noopener" class="inline-flex items-center gap-2 px-4 py-3 rounded-xl font-medium bg-taupe-accent text-white hover:bg-taupe-accent2 shadow-soft"><img alt="" aria-hidden="true" src="https://unpkg.com/heroicons@2.1.1/20/solid/map-pin.svg" class="w-5 h-5 invert"/><span>Google Maps</span></a>
      </div>
    </div>
  </header>

  <!-- SECTION: WEDDING EVENT (struktur asli) -->
  <section id="event" class="bg-white text-[#2e2b28] py-12 md:py-20"><div class="max-w-[980px] mx-auto px-4 grid grid-cols-12 gap-4"><h3 class="col-span-12 text-center tracking-[.2em] uppercase font-semibold text-[#3b332c] mb-4">Wedding Event</h3>
    <div class="col-span-12 md:col-span-6"><div class="bg-gradient-to-br reveal from-[#f8f4f1] via-[#efe9e3] to-[#e8e1db] border border-taupe-border rounded-3xl px-5 py-6 text-center max-w-[540px] mx-auto shadow-soft eventCard h-full"><div class="text-xs tracking-[.24em] uppercase text-[#5b5149] eyebrow">AKAD</div><div id="akad_day" class="text-[42px] leading-none font-bold">11</div><div id="akad_mon" class="text-[#746e69]">JAN 2030</div><p><strong id="akadDate">Jumat, 11 Januari 2030 · 10.00 WIB</strong></p><p id="venue1" class="text-[#746e69]">Gedung Serbaguna Contoh, Jakarta</p><div class="mt-2 flex flex-wrap justify-center gap-2 cta"><a id="btnMaps2" target="_blank" rel="noopener" class="btn-soft inline-flex items-center gap-2"><img alt="" aria-hidden="true" src="https://unpkg.com/heroicons@2.1.1/20/solid/map-pin.svg" class="w-5 h-5 invert"/><span>Klik Maps</span></a></div></div></div>
    <div class="col-span-12 md:col-span-6"><div class="bg-gradient-to-br reveal from-[#f8f4f1] via-[#efe9e3] to-[#e8e1db] border border-taupe-border rounded-3xl px-5 py-6 text-center max-w-[540px] mx-auto shadow-soft eventCard h-full"><div class="text-xs tracking-[.24em] uppercase text-[#5b5149] eyebrow">RESEPSI</div><div id="resep_day" class="text-[42px] leading-none font-bold">11</div><div id="resep_mon" class="text-[#746e69]">JAN 2030</div><p><strong id="resepDate">Jumat, 11 Januari 2030 · 13.00 WIB</strong></p><p id="venue2" class="text-[#746e69]">Gedung Serbaguna Contoh, Jakarta</p><div class="mt-2 flex flex-wrap justify-center gap-2 cta"><a id="btnCalendar" target="_blank" rel="noopener" class="btn-soft inline-flex items-center gap-2"><img alt="" aria-hidden="true" src="https://unpkg.com/heroicons@2.1.1/20/solid/calendar-days.svg" class="w-5 h-5 invert"/><span>Save Calendar</span></a></div></div></div>
  </div></section>

  <!-- SECTION: COUNTDOWN (struktur asli) -->
  <section id="countdown-section" class="bg-taupe-soft py-12 md:py-20">
    <div class="max-w-[980px] mx-auto px-4 grid grid-cols-12 gap-4">
      <h3 class="col-span-12 text-center tracking-[.2em] uppercase font-semibold text-[#3b332c]">Event Countdown</h3>
      <div class="col-span-12 rounded-2xl border border-taupe-border shadow-card text-center p-6 md:p-8 bg-white reveal">
        <div class="text-xs tracking-[.24em] uppercase text-[#6d6965]">Menuju Akad</div>
        <div id="cdDate" class="text-[#5d5853] mt-1">—</div>
        <div id="countdown" class="grid grid-cols-2 md:grid-cols-4 gap-6 md:gap-8 items-center justify-items-center my-4 md:my-6">
          <div id="tile-d" class="cdTile reveal grid place-items-center gap-1 px-4 py-3">
            <div class="relative grid place-items-center w-[112px] h-[112px]">
              <svg class="cdRing absolute inset-0" viewBox="0 0 100 100" aria-hidden="true"><circle class="track" cx="50" cy="50" r="44"></circle></svg>
              <div id="d" class="relative z-10 text-[44px] leading-none font-bold">–</div>
            </div>
            <div class="text-[12px] tracking-[.08em] uppercase text-[#666]">Hari</div>
          </div>
          <div class="cdTile reveal grid place-items-center gap-1 px-4 py-3">
            <div class="relative grid place-items-center w-[112px] h-[112px]">
              <svg class="cdRing absolute inset-0" viewBox="0 0 100 100" aria-hidden="true"><circle class="track" cx="50" cy="50" r="44"></circle><circle id="ring-h" class="progress" cx="50" cy="50" r="44"></circle></svg>
              <div id="h" class="relative z-10 text-[44px] leading-none font-bold">–</div>
            </div>
            <div class="text-[12px] tracking-[.08em] uppercase text-[#666]">Jam</div>
          </div>
          <div class="cdTile reveal grid place-items-center gap-1 px-4 py-3">
            <div class="relative grid place-items-center w-[112px] h-[112px]">
              <svg class="cdRing absolute inset-0" viewBox="0 0 100 100" aria-hidden="true"><circle class="track" cx="50" cy="50" r="44"></circle><circle id="ring-m" class="progress" cx="50" cy="50" r="44"></circle></svg>
              <div id="m" class="relative z-10 text-[44px] leading-none font-bold">–</div>
            </div>
            <div class="text-[12px] tracking-[.08em] uppercase text-[#666]">Menit</div>
          </div>
          <div class="cdTile reveal grid place-items-center gap-1 px-4 py-3">
            <div class="relative grid place-items-center w-[112px] h-[112px]">
              <svg class="cdRing absolute inset-0" viewBox="0 0 100 100" aria-hidden="true"><circle class="track" cx="50" cy="50" r="44"></circle><circle id="ring-s" class="progress" cx="50" cy="50" r="44"></circle></svg>
              <div id="s" class="relative z-10 text-[44px] leading-none font-bold">–</div>
            </div>
            <div class="text-[12px] tracking-[.08em] uppercase text-[#666]">Detik</div>
          </div>
        </div>
        <div class="mt-2"><a id="btnCalendar2" target="_blank" rel="noopener" class="inline-flex items-center gap-2 px-4 py-2 rounded-xl font-medium bg-taupe-accent text-white hover:bg-taupe-accent2"><img alt="" aria-hidden="true" src="https://unpkg.com/heroicons@2.1.1/20/solid/calendar-days.svg" class="w-5 h-5 invert"/><span>Save Calendar</span></a></div>
      </div>
    </div>
  </section>

  <!-- SECTION: OUR WEDDING (struktur asli) -->
  <section id="our" class="bg-white text-[#2e2b28] py-12 md:py-20"><div class="max-w-[980px] mx-auto px-4 grid grid-cols-12 gap-4"><h3 class="col-span-12 text-center tracking-[.2em] uppercase font-semibold text-[#3b332c] mb-4">Our Wedding</h3>
    <div class="col-span-12"><div class="text-center p-6 md:p-8 rounded-2xl border border-taupe-border bg-white shadow-soft max-w-[760px] mx-auto reveal"><div id="crest" class="w-[68px] h-[68px] rounded-full border border-taupe-border grid place-items-center mx-auto mb-3 bg-gradient-to-b from-[#f7f3ef] via-[#efe8e1] to-[#e8dfd6] font-serif font-bold text-[#3b332c]">Z&F</div><p class="text-[15px] md:text-[18px] text-[#4a443e] max-w-[60ch] mx-auto">Tanpa mengurangi rasa hormat, kami bermaksud mengundang Bapak/Ibu/Saudara/i untuk menghadiri acara Pernikahan kami.</p><div class="my-4 h-px w-full max-w-[520px] mx-auto rounded bg-gradient-to-r from-transparent via-[#b49a83]/45 to-transparent"></div><blockquote class="italic text-[#6d6965] max-w-[62ch] mx-auto"><span id="verseText">“Dan di antara tanda-tanda (kebesaran)-Nya ialah Dia menciptakan pasangan-pasangan…”</span><span id="verseRef" class="block mt-1 text-[12px] tracking-[.14em] uppercase text-[#8a847e]">Q.S. Ar-Rum : 21</span></blockquote></div></div>
  </div></section>

  <!-- SECTION: WE FOUND LOVE (struktur asli) -->
  <section id="we" class="bg-taupe-soft py-12 md:py-20"><div class="max-w-[980px] mx-auto px-4 grid grid-cols-12 gap-6"><h3 class="col-span-12 text-center tracking-[.2em] uppercase font-semibold text-[#3b332c] mb-2">We Found Love</h3>
  <div class="col-span-12 md:col-span-6">
    <article class="personCard reveal" data-anim="fade-right">
      <figure class="archFrame"><img loading="lazy" decoding="async" src="assets/farah.jpg" alt="Foto Farah"/></figure>
      <div class="personInfo">
        <div class="tagChip">The Bride</div>
        <h2 class="personName text-[clamp(20px,3.6vw,30px)] mt-2">Farah</h2>
        <p class="personMeta">Putri dari Bapak X & Ibu Y</p>
        <a id="ig1" target="_blank" rel="noopener" class="igBtn"><img alt="" aria-hidden="true" src="https://unpkg.com/heroicons@2.1.1/20/solid/at-symbol.svg" class="w-4 h-4"/> Instagram</a>
      </div>
    </article>
  </div>
  <div class="col-span-12 md:col-span-6">
    <article class="personCard reveal" data-anim="fade-left">
      <figure class="archFrame"><img loading="lazy" decoding="async" src="assets/zikri.jpg" alt="Foto Zikri"/></figure>
      <div class="personInfo">
        <div class="tagChip">The Groom</div>
        <h2 class="personName text-[clamp(20px,3.6vw,30px)] mt-2">Zikri</h2>
        <p class="personMeta">Putra dari Bapak A & Ibu B</p>
        <a id="ig2" target="_blank" rel="noopener" class="igBtn"><img alt="" aria-hidden="true" src="https://unpkg.com/heroicons@2.1.1/20/solid/at-symbol.svg" class="w-4 h-4"/> Instagram</a>
      </div>
    </article>
  </div>
</div></section>

  <!-- SECTION: GALLERY (struktur asli grid) -->
  <section id="gallery-section" class="bg-white text-[#2e2b28] py-12 md:py-20"><div class="max-w-[980px] mx-auto px-4 grid grid-cols-12 gap-4"><h3 class="col-span-12 text-center tracking-[.2em] uppercase font-semibold text-[#3b332c] mb-4">Moment Gallery</h3><div class="col-span-12"><div id="galleryGrid" class="grid [grid-template-columns:repeat(auto-fit,minmax(160px,1fr))] gap-3"></div></div></div></section>

  <!-- LIGHTBOX -->
  <div id="lightbox" class="fixed inset-0 z-60 grid place-items-center p-4 bg-black/85" hidden><img id="lbImg" alt="Preview" class="max-w-[92vw] max-h-[90vh] rounded-xl shadow-[0_12px_44px_rgba(0,0,0,.5)]"/></div>

  <!-- FOOTER (struktur asli) -->
  <footer class="relative bg-gradient-to-b from-taupe-soft to-taupe py-12 md:py-20 text-[#3b332c]"><div class="max-w-[980px] mx-auto px-4 grid justify-items-center text-center gap-4"><div id="footCrest" class="reveal w-14 h-14 rounded-full border border-taupe-border grid place-items-center font-serif font-bold bg-gradient-to-b from-[#f7f3ef] via-[#efe8e1] to-[#e8dfd6]">Z&F</div><h3 class="font-serif text-[clamp(18px,3vw,22px)]">Terima kasih</h3><p>Doa dan restu Anda sangat berarti bagi kami.</p><nav class="flex flex-wrap justify-center gap-3 mt-2"><a href="#event" class="inline-flex items-center gap-2 px-4 py-2 rounded-full border border-taupe-border bg-white"><img alt="" aria-hidden="true" src="https://unpkg.com/heroicons@2.1.1/20/solid/calendar-days.svg" class="w-4 h-4"/><span>Wedding Event</span></a><a id="btnMapsFoot" target="_blank" rel="noopener" class="inline-flex items-center gap-2 px-4 py-2 rounded-full border border-taupe-border bg-white"><img alt="" aria-hidden="true" src="https://unpkg.com/heroicons@2.1.1/20/solid/map-pin.svg" class="w-4 h-4"/><span>Google Maps</span></a><a href="#gallery-section" class="inline-flex items-center gap-2 px-4 py-2 rounded-full border border-taupe-border bg-white"><img alt="" aria-hidden="true" src="https://unpkg.com/heroicons@2.1.1/20/solid/photo.svg" class="w-4 h-4"/><span>Gallery</span></a></nav><div class="opacity-70">© <span id="year"></span> <span id="footCouple">Zikri & Farah</span></div></div></footer>

<script>const $=(s)=>document.querySelector(s),el=(id)=>document.getElementById(id),fmtDateDots=(d)=>{const dd=String(d.getDate()).padStart(2,'0'),mm=String(d.getMonth()+1).padStart(2,'0'),yy=d.getFullYear();return `${dd} . ${mm} . ${yy}`},fmtDateLong=(d)=>d.toLocaleString('id-ID',{weekday:'long',day:'numeric',month:'long',year:'numeric',hour:'2-digit',minute:'2-digit',hour12:false}),monShort='JAN,FEB,MAR,APR,MEI,JUN,JUL,AGS,SEP,OKT,NOV,DES'.split(',');const _lbInit=el('lightbox');if(_lbInit){_lbInit.hidden=true;_lbInit.style.display='none'}
// ====== KONFIGURASI DATA SESUAI BRIEF
const CONF={
  couple:'Farah & Zikri',
  dateISO:'2025-09-21T07:00:00+08:00', // Akad mulai WITA
  resepsiISO:'2025-09-21T10:00:00+08:00', // Resepsi mulai WITA
  venueName:'HBI — Ballroom Himalaya — Jl. Ahmad Yani No.Km. 4, RW.5, Karang Mekar, Kec. Banjarmasin Tim., Kota Banjarmasin, Kalimantan Selatan 70234',
  tz:'WITA',
  mapsUrl:'https://www.google.com/maps?q='+encodeURIComponent('HBI Ballroom Himalaya, Banjarmasin'),
  gallery:['assets/picture/IMG_1.jpg','assets/picture/IMG_2.jpg','assets/picture/IMG_3.jpg','assets/picture/IMG_4.jpg','assets/picture/IMG_5.jpg','assets/picture/IMG_6.jpg','assets/picture/IMG_7.jpg'],
  verse:'“Dan di antara tanda-tanda (kebesaran)-Nya ialah Dia menciptakan pasangan-pasangan untukmu dari jenismu sendiri…”',
  verseRef:'Q.S. Ar-Rum : 21'
};

// ====== APLIKASI DATA KE UI (tanpa ubah struktur)
el('cv_couple').textContent=CONF.couple;const akad=new Date(CONF.dateISO),resepsi=new Date(CONF.resepsiISO||CONF.dateISO);el('cv_date').textContent=fmtDateDots(akad);
const params=new URLSearchParams(location.search),toName=(params.get('to')||'Sahabat kami').replace(/\+/g,' ');el('guest').textContent=toName;el('couple').textContent=CONF.couple;el('dateplace').textContent=`${akad.toLocaleDateString('id-ID',{weekday:'long',day:'numeric',month:'long',year:'numeric'})} · Banjarmasin`;
el('btnMaps').href=CONF.mapsUrl;el('btnMaps2')&&(el('btnMaps2').href=CONF.mapsUrl);el('btnMapsFoot')&&(el('btnMapsFoot').href=CONF.mapsUrl);
const fmtPanel=(d)=>({day:String(d.getDate()),mon:monShort[d.getMonth()]+' '+d.getFullYear(),long:`${fmtDateLong(d).replace(' pukul',' ·')} ${CONF.tz}`}),a=fmtPanel(akad),r=fmtPanel(resepsi);
el('akad_day').textContent=a.day;el('akad_mon').textContent=a.mon;el('akadDate').textContent=`Minggu, 21 September 2025 · 07.00–09.00 ${CONF.tz}`;el('venue1').textContent=CONF.venueName;
el('resep_day').textContent=r.day;el('resep_mon').textContent=r.mon;el('resepDate').textContent=`Minggu, 21 September 2025 · 10.00–14.00 ${CONF.tz}`;el('venue2').textContent=CONF.venueName;
const crest=el('crest');if(crest){const initials=CONF.couple.split('&').map(s=>s.trim()[0]||'').join('&');crest.textContent=initials}
el('verseText')&&(el('verseText').textContent=CONF.verse);el('verseRef')&&(el('verseRef').textContent=CONF.verseRef);
el('footCouple')&&(el('footCouple').textContent=CONF.couple);el('year').textContent=new Date().getFullYear();

// ====== Event formatting – split date/time & tidy venue hierarchy
(function(){
  const vName='HBI — Ballroom Himalaya';
  const vAddr='Jl. Ahmad Yani No.Km. 4, RW.5, Karang Mekar';
  const vCity='Kec. Banjarmasin Tim., Kota Banjarmasin, Kalimantan Selatan 70234';
  const dateAkad=akad.toLocaleDateString('id-ID',{weekday:'long',day:'numeric',month:'long',year:'numeric'});
  const dateRese=resepsi.toLocaleDateString('id-ID',{weekday:'long',day:'numeric',month:'long',year:'numeric'});
  const ad=el('akadDate'), rd=el('resepDate');
  if(ad) ad.innerHTML=`<div class=\"eventDate\">${dateAkad}</div><div class=\"eventTime\">07.00–09.00 ${CONF.tz}</div>`;
  if(rd) rd.innerHTML=`<div class=\"eventDate\">${dateRese}</div><div class=\"eventTime\">10.00–14.00 ${CONF.tz}</div>`;
  const v1=el('venue1'), v2=el('venue2');
  const vHtml=`<span class=\"venue name\">${vName}</span><br/><span class=\"venue addr\">${vAddr}</span><br/><span class=\"venue city\">${vCity}</span>`;
  if(v1) v1.innerHTML=vHtml; if(v2) v2.innerHTML=vHtml;
})();

// ====== Fix content for WE FOUND LOVE (no structural change)
(function(){
  const cards=document.querySelectorAll('#we .personCard');
  if(cards[0]){
    const n=cards[0].querySelector('.personName'); if(n) n.textContent='Farah Andin Putri';
    const m=cards[0].querySelector('.personMeta'); if(m) m.textContent='Putri dari Bapak M Syafwan Zuraidi & Ibu Linda Noviarti';
    const img=cards[0].querySelector('.archFrame img'); if(img){ img.onerror=()=>{img.src='assets/picture/IMG_1.jpg'}; }
  }
  if(cards[1]){
    const n=cards[1].querySelector('.personName'); if(n) n.textContent='Muhammad Zikri';
    const m=cards[1].querySelector('.personMeta'); if(m) m.textContent='Putra dari Bapak Muhidin & Ibu Sahriati';
    const img=cards[1].querySelector('.archFrame img'); if(img){ img.onerror=()=>{img.src='assets/picture/IMG_2.jpg'}; }
  }
})();

// ====== LINK SAVE CALENDAR (Akad)
(function(){const toUTC=(iso)=>{const d=new Date(iso),p=(n)=>String(n).padStart(2,'0');return `${d.getUTCFullYear()}${p(d.getUTCMonth()+1)}${p(d.getUTCDate())}T${p(d.getUTCHours())}${p(d.getUTCMinutes())}00Z`};
  const url=`https://calendar.google.com/calendar/render?action=TEMPLATE&text=${encodeURIComponent('The Wedding of '+CONF.couple+' — Akad')}&dates=${toUTC(CONF.dateISO)}/${toUTC('2025-09-21T09:00:00+08:00')}&location=${encodeURIComponent(CONF.venueName)}`;
  const a1=el('btnCalendar'),a2=el('btnCalendar2'); if(a1) a1.href=url; if(a2) a2.href=url;})();

// ====== GALLERY GRID (pakai file lokal)
function buildGallery(){if(window._galleryBuilt)return;window._galleryBuilt=true;const gGrid=el('galleryGrid');if(!gGrid)return;(CONF.gallery||[]).forEach((u,i)=>{const a=document.createElement('a');a.href=u;a.className='block rounded-xl overflow-hidden shadow-[0_8px_24px_rgba(0,0,0,.08)] bg-[#f3efe9] reveal';a.dataset.delay=`${i*40}ms`;a.setAttribute('data-i',i);const img=new Image();img.loading='lazy';img.decoding='async';img.alt=`Moment ${i+1}`;img.src=u;img.style.aspectRatio='3/4';img.style.objectFit='cover';a.appendChild(img);gGrid.appendChild(a);if(window.__observe)window.__observe(a)});const lb=el('lightbox'),lbImg=el('lbImg');if(lb){gGrid.addEventListener('click',(e)=>{const a=e.target.closest('a');if(!a)return;e.preventDefault();lbImg.src=a.href;lb.hidden=false;document.body.classList.add('lock')});lb.addEventListener('click',()=>{lb.hidden=true;lbImg.src='';document.body.classList.remove('lock')});document.addEventListener('keydown',(e)=>{if(e.key==='Escape'&&!lb.hidden){lb.click()}})}}

// ====== COUNTDOWN CINCIN
const R=44,C=2*Math.PI*R,setRing=(id,val,max)=>{const c=el(id);if(!c)return;c.style.strokeDasharray=`${C}`;c.style.strokeDashoffset=`${C*(1-(val/max))}`};
function tick(){const now=new Date();let diff=Math.max(0,akad-now);const sec=Math.floor(diff/1000)%60,min=Math.floor(diff/60000)%60,hr=Math.floor(diff/3600000)%24,day=Math.floor(diff/86400000),pad=(n)=>String(n).padStart(2,'0');el('d').textContent=day;el('h').textContent=pad(hr);el('m').textContent=pad(min);el('s').textContent=pad(sec);setRing('ring-s',sec,60);setRing('ring-m',min,60);setRing('ring-h',hr,24)}tick();setInterval(tick,1000);

// ====== OPEN INVITATION (tanpa ubah struktur)
const openInvitation=()=>{document.body.classList.remove('lock');const cv=el('cover');if(cv)cv.style.display='none';buildGallery();const bt=el('backTop');if(bt) bt.classList.remove('hidden'); if(window.__musicAutoStart){ window.__musicAutoStart(); }};
window.__open=()=>{openInvitation()};
const btnOpen=el('openBtn');if(btnOpen)btnOpen.addEventListener('click',openInvitation);document.addEventListener('keydown',(e)=>{if((e.key==='Enter'||e.key===' ')&&el('cover')&&el('cover').style.display!=='none'){openInvitation()}});

// ====== MUSIC & BACK-TO-TOP (tanpa ubah struktur)
(function initUx(){
  try{
    var a=document.createElement('audio');
    a.id='bgm'; a.preload='auto'; a.loop=true; a.src='assets/bgm.mp3'; a.volume=0;

    var mb=document.createElement('button');
    mb.id='musicBtn'; mb.type='button';
    mb.className='hidden grid place-items-center text-white shadow-soft';
    mb.setAttribute('aria-label','Toggle music');

    function icon(paused){
      return paused
        ? '<svg viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M8 5v14l11-7-11-7z"/></svg>'
        : '<svg viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M6 5h4v14H6zM14 5h4v14h-4z"/></svg>';
    }
    function setIcon(){ mb.innerHTML = icon(a.paused); }

    function fadeTo(target, ms){
      var start=a.volume, t0=performance.now();
      function step(t){ var k=Math.min(1,(t-t0)/ms); a.volume=start+(target-start)*k; if(k<1){ requestAnimationFrame(step);} else if(target===0){ a.pause(); mb.classList.remove('is-playing'); setIcon(); } }
      requestAnimationFrame(step);
    }

    window.__musicAutoStart=function(){
      mb.classList.remove('hidden');
      a.volume=0;
      a.play().then(()=>{ mb.classList.add('is-playing'); setIcon(); fadeTo(0.8,900); }).catch(()=>{});
    };

    mb.addEventListener('click',function(){
      if(a.paused){ a.volume=0; a.play().then(()=>{ mb.classList.add('is-playing'); setIcon(); fadeTo(0.8,700); }).catch(()=>{}); }
      else { fadeTo(0,500); }
    });

    a.addEventListener('play', setIcon);
    a.addEventListener('pause', setIcon);

    document.body.appendChild(a);
    document.body.appendChild(mb);
    setIcon();

    // Back to top (tetap mengikuti gaya)
    var bt=document.createElement('button');
    bt.id='backTop'; bt.type='button';
    bt.className='hidden fixed bottom-4 right-4 z-[70] w-11 h-11 rounded-full bg-taupe-accent text-white shadow-soft grid place-items-center opacity-0 pointer-events-none transition-opacity';
    bt.setAttribute('aria-label','Kembali ke atas');
    bt.textContent='↑';
    bt.addEventListener('click',function(){window.scrollTo({top:0,behavior:'smooth'});});
    window.addEventListener('scroll',function(){ if(bt.classList.contains('hidden')) return; var show=window.scrollY>300; bt.style.opacity=show?'1':'0'; bt.style.pointerEvents=show?'auto':'none'; });
    document.body.appendChild(bt);
  }catch(e){}
})();

// ====== REVEAL ON SCROLL (asli)
(function setupReveals(){const els=document.querySelectorAll('.reveal');const IO=new IntersectionObserver((ents)=>{ents.forEach(en=>{if(en.isIntersecting){const t=en.target;const d=t.dataset.delay||'0s';t.style.transitionDelay=d;t.classList.add('is-visible');IO.unobserve(t)}})},{threshold:0.12,rootMargin:'0px 0px -10% 0px'});els.forEach(e=>IO.observe(e));window.__observe=(node)=>IO.observe(node);document.querySelectorAll('#cover .reveal').forEach(n=>n.classList.add('is-visible'));})();

// ====== LOADER 5s → tampilkan cover
window.addEventListener('load',()=>{setTimeout(()=>{const l=el('loadingBanjar');if(l) l.remove();},5000)});
</script>
</body></html>
